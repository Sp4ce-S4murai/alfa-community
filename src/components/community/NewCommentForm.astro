---
import UserAvatar from '@components/community/UserAvatar.astro';
import Button from '@components/ui/Button.astro';
import { mockUsers } from '@lib/mockData.ts';

interface Props { postId: string }
const { postId } = Astro.props as Props;
const loggedInUser = mockUsers[0]; // Simula o usuário 'João Silva' logado
const avatarUrl = (loggedInUser as any).avatarUrl ?? loggedInUser.avatar;
---

{loggedInUser ? (
  <div class="flex gap-3 p-4 border-t border-zinc-700">
    <!-- Avatar -->
    <UserAvatar src={avatarUrl} alt={loggedInUser.name} size="small" />

    <!-- Formulário -->
    <form class="flex-1 flex gap-2">
      <input
        type="text"
        name="comment"
        placeholder="Escreva um comentário..."
        class="w-full bg-zinc-900 text-zinc-100 px-4 py-2 rounded-full border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-teal-500"
      />
      <Button type="submit" variant="primary" class="rounded-full">Enviar</Button>
    </form>
  </div>
) : null}