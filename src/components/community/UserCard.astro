---
import UserAvatar from '@components/community/UserAvatar.astro';

interface Props {
  profile: any; 
}
const { profile } = Astro.props;

// --- INÍCIO DA LÓGICA MOVIDA ---
// Movemos toda a lógica para o script (frontmatter).
// O template (HTML) abaixo apenas irá ler estas variáveis.

const avatar = profile.avatar_url;
const name = profile.full_name || 'Usuário';

// Aqui está a correção: processamos o ternário e o template literal aqui em cima.
const handle = profile.handle ? `@${profile.handle}` : '';

// E também o link (usando a concatenação segura)
const profileLink = '/perfil/' + profile.handle;
// --- FIM DA LÓGICA MOVIDA ---
---

<div class="bg-zinc-800 border border-zinc-700 rounded-lg p-4 flex flex-col items-center text-center">
  
  <UserAvatar src={avatar} alt={name} size="large" />
  
  <h3 class="mt-3 text-lg font-semibold text-zinc-100">
    {name}
  </h3>
  
  <p class="text-sm text-zinc-400">
    {handle}
  </p>
  
  <a href={profileLink} class="mt-4 bg-teal-500 text-zinc-900 font-semibold px-4 py-2 rounded-lg text-sm hover:bg-teal-400 transition-colors">
    Ver Perfil
  </a>

</div>